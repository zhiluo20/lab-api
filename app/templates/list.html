<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document Catalogue</title>
    <style>
        body { font-family: sans-serif; margin: 2rem auto; max-width: 60rem; }
        table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; }
        th, td { border: 1px solid #ccc; padding: 0.6rem; text-align: left; }
        th { background: #f0f0f0; }
        a.button { padding: 0.4rem 0.8rem; background: #0b5; color: white; text-decoration: none; border-radius: 0.25rem; }
    </style>
</head>
<body>
    <header style="display:flex; justify-content: space-between; align-items: center;">
        <div>
            <h1>Documents</h1>
            <p>Signed in as <strong>{{ user.username }}</strong>. Token will expire according to API policy.</p>
        </div>
        <nav>
            {% if user.is_admin %}
                <a class="button" href="{{ url_for('admin.list_users', token=token) }}">Admin Panel</a>
            {% endif %}
            <a class="button" href="{{ url_for('web.login_page') }}">Log in as another user</a>
        </nav>
    </header>

    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for doc in docs %}
            <tr>
                <td>{{ doc.name }}</td>
                <td>{{ doc.description or "â€”" }}</td>
                <td><a class="button" href="{{ url_for('web.docs_edit', doc_id=doc.id, token=token) }}">Open</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
