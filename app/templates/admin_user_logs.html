<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Admin | Login Logs</title>
    <style>
        body { font-family: sans-serif; margin: 2rem auto; max-width: 80rem; }
        header { display:flex; justify-content: space-between; align-items: center; }
        nav a { margin-left:0.5rem; text-decoration:none; padding:0.4rem 0.7rem; border-radius:0.3rem; background:#0b5; color:#fff; }
        table { width:100%; border-collapse:collapse; margin-top:1rem; }
        th, td { border:1px solid #ccc; padding:0.5rem; text-align:left; }
        th { background:#f5f5f5; }
    </style>
</head>
<body>
    <header>
        <div>
            <h1>Login Activity — {{ target_user.username }}</h1>
            <p>{{ target_user.email }}</p>
        </div>
        <nav>
            <a href="{{ url_for('admin.list_users', token=token) }}">Back to users</a>
            <a href="{{ url_for('admin.admin_index', token=token) }}">Dashboard</a>
        </nav>
    </header>

    <table>
        <thead>
            <tr>
                <th>When</th>
                <th>IP address</th>
                <th>User agent</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
                <tr>
                    <td>{{ log.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                    <td>{{ log.ip_address or '—' }}</td>
                    <td>{{ log.user_agent or '—' }}</td>
                </tr>
            {% endfor %}
            {% if not logs %}
                <tr><td colspan="3">No login activity recorded.</td></tr>
            {% endif %}
        </tbody>
    </table>
</body>
</html>
